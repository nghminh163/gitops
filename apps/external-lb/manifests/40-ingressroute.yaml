# Ingress Route for synology-dsm
apiVersion: traefik.io/v1alpha1
kind: IngressRoute
metadata:
  name: synology-dsm
  namespace: external-lb
spec:
  entryPoints:
    - websecure
  routes:
    - match: Host(`synology.minh.pw`)
      kind: Rule
      services:
        - name: synology-dsm
          port: 5001
          scheme: https
          passHostHeader: false
          serversTransport: synology-insecure-transport
  tls: {}
---
# Ingress Route for Adguard
apiVersion: traefik.io/v1alpha1
kind: IngressRoute
metadata:
  name: adguard
  namespace: external-lb
spec:
  entryPoints:
    - websecure
  routes:
    - match: Host(`adguard.minh.pw`)
      kind: Rule
      services:
        - name: adguard
          port: 3000
          passHostHeader: false
  tls: {}
---
# Ingress Route for Router
apiVersion: traefik.io/v1alpha1
kind: IngressRoute
metadata:
  name: router
  namespace: external-lb
spec:
  entryPoints:
    - websecure
  routes:
    - match: Host(`router.minh.pw`)
      kind: Rule
      services:
        - name: router
          port: 80
          passHostHeader: false
  tls: {}